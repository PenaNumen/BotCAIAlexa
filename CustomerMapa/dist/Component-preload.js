sap.ui.require.preload({"customer/CustomerMapa/Component.js":'sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","customer/CustomerMapa/model/models"],function(e,t,i){"use strict";return e.extend("customer.CustomerMapa.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments),this.getRouter().initialize(),this.setModel(i.createDeviceModel(),"device")}})});',"customer/CustomerMapa/controller/Main.controller.js":'sap.ui.define(["sap/ui/core/mvc/Controller","sap/viz/ui5/api/env/Format","sap/viz/ui5/format/ChartFormatter","sap/ui/model/json/JSONModel","sap/ui/model/Filter"],function(e,t,i,o,s){"use strict";return e.extend("customer.CustomerMapa.controller.Main",{oVizFrame:null,userFilter:!1,url:null,oModel:null,position:[{pais:"Brazil",postionLongitude:"-51.176911",postionLatitude:"-10.859350",zoomlevel:4},{pais:"China",postionLongitude:"102.134506",postionLatitude:"33.834675",zoomlevel:4},{pais:"France",postionLongitude:"2.662158",postionLatitude:"46.889611",zoomlevel:6},{pais:"Germany",postionLongitude:"10.377547",postionLatitude:"51.131503",zoomlevel:6},{pais:"Italy",postionLongitude:"12.798187",postionLatitude:"42.921874",zoomlevel:5},{pais:"Japan",postionLongitude:"137.906380",postionLatitude:"36.456512",zoomlevel:5},{pais:"Malaysia",postionLongitude:"101.907124",postionLatitude:"3.814249",zoomlevel:6},{pais:"Mexico",postionLongitude:"-102.394293",postionLatitude:"23.713080",zoomlevel:5},{pais:"Netherlands",postionLongitude:"5.454260",postionLatitude:"52.146792",zoomlevel:6},{pais:"Norway",postionLongitude:"13.998800",postionLatitude:"66.380905",zoomlevel:5},{pais:"Russia",postionLongitude:"93.824192",postionLatitude:"62.743301",zoomlevel:2},{pais:"South Korea",postionLongitude:"128.018943",postionLatitude:"36.568911",zoomlevel:6},{pais:"Spain",postionLongitude:"-3.280119",postionLatitude:"39.899317",zoomlevel:6},{pais:"Switzerland",postionLongitude:"8.104970",postionLatitude:"46.897378",zoomlevel:6},{pais:"Taiwan",postionLongitude:"121.043002",postionLatitude:"23.790594",zoomlevel:6},{pais:"Thailand",postionLongitude:"100.815523",postionLatitude:"13.766037",zoomlevel:5},{pais:"United Kingdom",postionLongitude:"-2.279159",postionLatitude:"53.725269",zoomlevel:6},{pais:"United States",postionLongitude:"-101.010615",postionLatitude:"39.778354",zoomlevel:3},{pais:"Venezuela",postionLongitude:"-66.073184",postionLatitude:"7.377688",zoomlevel:6}],getSelectedCountry:function(e){if(""==e)return null;for(var t=0;t<this.position.length;t++)try{if(-1!=this.position[t].pais.search(e))return this.position[t]}catch(e){}return null},onInit:function(){this.url=this.getView().getModel().sServiceUrl,this.oModel=new sap.ui.model.odata.v2.ODataModel(this.url);var e=this.oVizFrame=this.getView().byId("idVizFrame");this.getView().byId("idPopOver").connect(e.getVizUid()),this.setTimeoutJs();var t=this.getView().byId("geoMap"),i={MapProvider:{name:"MAPBOX_STARTER",type:"",description:"",tileX:"256",tileY:"256",maxLOD:"20",copyright:"Tiles Courtesy of MapBox.com",Source:[{id:"s1",url:"https://api.mapbox.com/styles/v1/mapbox/light-v9/tiles/256/{LOD}/{X}/{Y}@2x?access_token=pk.eyJ1IjoiYWxleGFuZHJlZm9zc2F0aWZpbGhvIiwiYSI6ImNqbTljZzBxODBjMnQzdm8zbXNpMDBjMmcifQ.jvqBe8_1mF37czsK0_WFjA"}]},MapLayerStacks:{name:"Default",MapLayer:[{name:"MapBox",refMapProvider:"MAPBOX_STARTER",opacity:"1",colBkgnd:"RGB(255,255,255)"}]}};t.setMapConfiguration(i),t.setRefMapLayerStack("Default");var o=new sap.ui.model.json.JSONModel;o.setData({postionLongitude:"0",postionLatitude:"0",zoomlevel:0}),this.getView().setModel(o,"position"),this.buscaMapa([])},buscaMapa:function(e){var t=this;this.oModel.read("/Customers",{async:!1,filters:e,success:function(e,i){var o=new sap.ui.model.json.JSONModel;o.setData(e.results),t.getView().setModel(o,"spots")},error:function(e){}})},setTimeoutJs:function(){var e=this;setTimeout(function(){e.buscaFiltro(),e.setTimeoutJs()},1e3)},buscaFiltro:function(){var e=this;this.oModel.read("/ActualCountry",{async:!1,success:function(t,i){t.results.length>0?0==e.userFilter&&e.byId("searchField").getValue()!=t.results[t.results.length-1].COUNTRY&&(e.searchFilter(t.results[t.results.length-1].COUNTRY),e.byId("searchField").setValue(t.results[t.results.length-1].COUNTRY)):0==e.userFilter&&""!=e.byId("searchField").getValue()&&(e.searchFilter(""),e.byId("searchField").setValue(""))},error:function(e){}})},onLiveChange:function(e){var t=e.getSource().getValue();this.userFilter=!0;var i=this;""==t&&setTimeout(function(){""==i.byId("searchField").getValue()&&(i.userFilter=!1)},3e3)},onSearch:function(e){var t=e.getSource().getValue();""!=t&&(this.userFilter=!0),this.searchFilter(t)},searchFilter:function(e){var t=[];if(e&&e.length>0){var i=new s("COUNTRY",sap.ui.model.FilterOperator.Contains,e);t.push(i)}this.byId("list").getBinding("items").filter(t,"Application"),this.buscaMapa(t);var o=new sap.ui.model.json.JSONModel,a=this.getSelectedCountry(e);null!==a?o.setData(a):o.setData({postionLongitude:"0",postionLatitude:"0",zoomlevel:0}),this.getView().setModel(o,"position")},onSelectData:function(e){var t=e.getParameter("data")[0].data._context_row_number;try{var i=this.byId("idVizFrame")._getVizDataset()._FlatTableD._data[t][0];this.searchFilter(i),this.byId("searchField").setValue(i),this.userFilter=!0}catch(e){}}})});',"customer/CustomerMapa/model/models.js":'sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);return i.setDefaultBindingMode("OneWay"),i}}});',"customer/CustomerMapa/view/Main.view.xml":'<mvc:View controllerName="customer.CustomerMapa.controller.Main" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m"\n\txmlns:l="sap.ui.layout" xmlns:viz="sap.viz.ui5.controls" xmlns:viz.data="sap.viz.ui5.data"\n\txmlns:viz.feeds="sap.viz.ui5.controls.common.feeds" xmlns:vbm="sap.ui.vbm"><Shell id="shell"><App id="app"><pages><Page id="page" title="{i18n>title}"><content><FlexBox id="flexbox" class="borda sapUiSmallMarginTop" width="100%"><VBox height="100%" width="40%" alignItems="Stretch" direction="Column" fitContainer="false" justifyContent="Start" renderType="Div"\n\t\t\t\t\t\t\t\tvisible="true" displayInline="false"><List id="list" headerText="Customers" items="{ path: \'/Customers\', sorter: { path: \'NAME\', descending: false } }" growing="true"\n\t\t\t\t\t\t\t\t\tgrowingThreshold="10"><items><StandardListItem title="{NAME}" info="{COUNTRY}" description="{DESCRIPTION}"/></items><headerToolbar><OverflowToolbar><Title id="tableHeader" text="Customers" level="H3"/><ToolbarSpacer/><SearchField id="searchField" tooltip="{i18n>worklistSearchTooltip}" search="onSearch" liveChange="onLiveChange"><layoutData><OverflowToolbarLayoutData maxWidth="80%" priority="NeverOverflow"/></layoutData></SearchField></OverflowToolbar></headerToolbar></List></VBox><VBox height="100%" width="60%" alignItems="Stretch" direction="Column" fitContainer="false" justifyContent="Start" renderType="Div"\n\t\t\t\t\t\t\t\tvisible="true" displayInline="false"><viz:Popover id="idPopOver"></viz:Popover><viz:VizFrame class="border" id="idVizFrame" width="calc(100% + 50px)" height="460px" vizType=\'pie\'\n\t\t\t\t\t\t\t\t\tvizProperties="{plotArea: {dataLabel:{visible:\'true\'}}, title:{ text:\'Country x Quantity\'}, legend:{isScrollable:\'true\'}}"\n\t\t\t\t\t\t\t\t\tuiConfig="{applicationSet:\'fiori\'}" selectData="onSelectData"><viz:dataset><viz.data:FlattenedDataset data="{/CustomersCountry}"><viz.data:dimensions><viz.data:DimensionDefinition name="Pais" value="{COUNTRY}"/></viz.data:dimensions><viz.data:measures><viz.data:MeasureDefinition name="Quantidade" value="{QTY}"/></viz.data:measures></viz.data:FlattenedDataset></viz:dataset><viz:feeds><viz.feeds:FeedItem uid="size" type="Measure" values="Quantidade"/><viz.feeds:FeedItem uid="color" type="Dimension" values="Pais"/></viz:feeds></viz:VizFrame><vbm:GeoMap id="geoMap" legendVisible="true" scaleVisible="true" width="100%" height="500px" initialPosition="0;0;0"\n\t\t\t\t\t\t\t\t\tcenterPosition="{position>/postionLongitude};{position>/postionLatitude};0" initialZoom="1" zoomlevel="{position>/zoomlevel}" enableAnimation="false"\n\t\t\t\t\t\t\t\t\trefMapLayerStack="Default" disableZoom="false" disablePan="false"><vbm:resources/><vbm:legend><vbm:Legend id="legend" caption="Legend"><vbm:LegendItem text="Customers" semanticSpotType="Error"/></vbm:Legend></vbm:legend><vbm:vos><vbm:Spots id="spots" items="{ path: \'spots>/\'}"><vbm:items><vbm:Spot type="Error" tooltip="{spots>NAME}" position="{spots>LONGITUDE};{spots>LATITUDE};0" icon="sap-icon://customer"/></vbm:items></vbm:Spots></vbm:vos></vbm:GeoMap></VBox></FlexBox></content></Page></pages></App></Shell></mvc:View>',"customer/CustomerMapa/view/Main2.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:viz="sap.viz.ui5.controls" xmlns:viz.data="sap.viz.ui5.data" xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds" xmlns:vbm="sap.ui.vbm" controllerName="customer.CustomerMapa.controller.Main" displayBlock="true"><Shell id="shell"><App id="app"><pages><Page id="page" title="{i18n>title}"><content><FlexBox id="flexbox" class="borda sapUiSmallMarginTop" width="100%"><VBox height="100%" width="50%" alignItems="Stretch" direction="Column" fitContainer="false" justifyContent="Start" renderType="Div" visible="true" displayInline="false"><items><OverflowToolbar xmlns="sap.m"><Title id="tableHeader" text="Customers" level="H3"/><ToolbarSpacer/><SearchField id="searchField" tooltip="{i18n>worklistSearchTooltip}" search="onSearch" liveChange="onLiveChange"><layoutData><OverflowToolbarLayoutData maxWidth="80%" priority="NeverOverflow"/></layoutData></SearchField></OverflowToolbar><List id="list" headerText="Customers" items="{ path: \'/Customers\', sorter: { path: \'NAME\', descending: false } }" growing="true" growingThreshold="10"><items><StandardListItem title="{NAME}" info="{COUNTRY}" description="{DESCRIPTION}"/></items><headerToolbar></headerToolbar></List></items></VBox><items><VBox xmlns="sap.m" height="100%" width="50%" alignItems="Stretch" direction="Column" fitContainer="false" justifyContent="Start" renderType="Div" visible="true" displayInline="false"><viz:Popover id="idPopOver"/><viz:VizFrame class="border" id="idVizFrame" width="calc(100% + 50px)" height="470px" vizType="pie" vizProperties="{plotArea: {dataLabel:{visible:\'true\'}}, title:{ text:\'Country x Quantity\'}, legend:{isScrollable:\'true\'}}" uiConfig="{applicationSet:\'fiori\'}" selectData="onSelectData"><viz:dataset><viz.data:FlattenedDataset data="{/CustomersCountry}"><viz.data:dimensions><viz.data:DimensionDefinition name="Pais" value="{COUNTRY}"/></viz.data:dimensions><viz.data:measures><viz.data:MeasureDefinition name="Quantidade" value="{QTY}"/></viz.data:measures></viz.data:FlattenedDataset></viz:dataset><viz:feeds><viz.feeds:FeedItem uid="size" type="Measure" values="Quantidade"/><viz.feeds:FeedItem uid="color" type="Dimension" values="Pais"/></viz:feeds></viz:VizFrame><items><vbm:GeoMap id="geoMap" legendVisible="true" scaleVisible="true" width="100%" height="600px" initialPosition="0;0;0" centerPosition="{position>/postionLongitude};{position&gt;/postionLatitude};0" initialZoom="1" zoomlevel="{position>/zoomlevel}" enableAnimation="false" refMapLayerStack="Default" disableZoom="false" disablePan="false"><vbm:resources/><vbm:legend><vbm:Legend id="legend" caption="Legend"><vbm:LegendItem text="Customers" semanticSpotType="Error"/></vbm:Legend></vbm:legend><vbm:vos><vbm:Spots id="spots" items="{ path: \'spots>/\'}"><vbm:items><vbm:Spot type="Error" tooltip="{spots>NAME}" position="{spots>LONGITUDE};{spots&gt;LATITUDE};0" icon="sap-icon://customer"/></vbm:items></vbm:Spots></vbm:vos></vbm:GeoMap></items></VBox></items></FlexBox></content></Page></pages></App></Shell></mvc:View>',"customer/CustomerMapa/i18n/i18n.properties":"title=Customers\nappTitle=Customers\nappDescription=App Description","customer/CustomerMapa/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"customer.CustomerMapa","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","sourceTemplate":{"id":"servicecatalog.connectivityComponentForManifest","version":"0.0.0"},"dataSources":{"customers.xsodata":{"uri":"/CustomerOData/alexa/data/customers.xsodata/","type":"OData","settings":{"localUri":"localService/metadata.xml"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"rootView":{"viewName":"customer.CustomerMapa.view.Main","type":"XML","async":true,"id":"Main"},"dependencies":{"minUI5Version":"1.60.1","libs":{"sap.ui.layout":{},"sap.ui.core":{},"sap.m":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"customer.CustomerMapa.i18n.i18n"}},"":{"type":"sap.ui.model.odata.v2.ODataModel","settings":{"defaultOperationMode":"Server","defaultBindingMode":"OneWay","defaultCountMode":"Request"},"dataSource":"customers.xsodata","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"customer.CustomerMapa.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RouteMain","pattern":"RouteMain","target":["TargetMain"]}],"targets":{"TargetMain":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"Main","viewName":"Main"}}}},"sap.platform.hcp":{"uri":"","_version":"1.1.0"}}'},"customer/CustomerMapa/Component-preload");